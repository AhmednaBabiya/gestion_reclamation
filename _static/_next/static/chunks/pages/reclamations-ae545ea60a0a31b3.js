(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{9255:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reclamations",function(){return n(1380)}])},9208:function(e,t,n){"use strict";n.d(t,{I:function(){return h}});var r=n(6042),i=n(9396),s=n(9534),a=n(5893),c=n(5697),o=n.n(c),l=(0,n(1719).ZP)("span")((function(e){var t=e.theme,n=e.ownerState;return{alignItems:"center",backgroundColor:t.palette[n.color].main,borderRadius:12,color:t.palette[n.color].contrastText,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:t.spacing(1),paddingRight:t.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}})),h=function(e){var t=e.color,n=void 0===t?"primary":t,c=e.children,o=(0,s.Z)(e,["color","children"]),h={color:n};return(0,a.jsx)(l,(0,i.Z)((0,r.Z)({ownerState:h},o),{children:c}))};h.propTypes={children:o().node,color:o().oneOf(["primary","secondary","error","info","warning","success"])}},1380:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r=n(5893),i=n(9008),s=n.n(i),a=n(1953),c=n(6336),o=n(7294),l=n(1964),h=n.n(l),u=n(7763),d=n.n(u),x=n(1163),p=n.n(x),m=n(9630),g=n(9837),j=n(1359),f=n(7836),Z=n(9041),_=n(1645),y=n(244),v=n(3978),w=n(9417),C=n(5605),T=n(9807),S=n(8114),b=n(196),N=(0,n(4235).Z)((0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),"Search"),W=n(9208),k=function(){var e=(0,o.useState)(null),t=e[0],n=e[1],i=(0,o.useState)(1),s=i[0],c=i[1],l=(0,o.useState)([]),u=l[0],x=l[1],k=(0,o.useState)(""),E=k[0],H=k[1],I=localStorage.getItem("token");(0,o.useEffect)((function(){b.ZP.get("http://127.0.0.1:8000/backend/reclamation-list/?search="+E+"&size="+"".concat(5)+"&page="+"".concat(s),{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(I)}}).then((function(e){n(e.data.count),x(e.data.results.map((function(e){return t=e.id,n=e.created_at.split("T")[0]+" "+e.created_at.split("T")[1].split(".")[0].slice(0,-3),r=e.customer_name,i=e.customer_phone_number,s=e.customer_nni_number,a=e.type,c=e.status,{id:t,created_at:n,customer_name:r,customer_phone_number:i,customer_nni_number:s,type:a,status:c};var t,n,r,i,s,a,c})))})).catch((function(e){console.log("error message",e)}))}),[E,s]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(a.Z,{sx:{alignItems:"center",display:"flex",justifyContent:"space-between",flexWrap:"wrap",m:-1},children:(0,r.jsx)(m.Z,{sx:{m:1},variant:"h4",children:"R\xe9clamations"})}),(0,r.jsx)(a.Z,{sx:{mt:3},children:(0,r.jsx)(g.Z,{children:(0,r.jsx)(j.Z,{children:(0,r.jsx)(a.Z,{sx:{maxWidth:500},children:(0,r.jsx)(f.Z,{fullWidth:!0,InputProps:{startAdornment:(0,r.jsx)(Z.Z,{position:"start",children:(0,r.jsx)(_.Z,{color:"action",fontSize:"small",children:(0,r.jsx)(N,{})})})},placeholder:"Rechercher par nom, nni, t\xe9l ou date",variant:"outlined",onChange:function(e){return H(e.target.value)}})})})})})]}),(0,r.jsx)(g.Z,{children:(0,r.jsx)(h(),{children:(0,r.jsx)(a.Z,{sx:{minWidth:1050},children:(0,r.jsxs)(y.Z,{children:[(0,r.jsx)(v.Z,{children:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(C.Z,{children:"Nom du client"}),(0,r.jsx)(C.Z,{children:"Cr\xe9\xe9 le"}),(0,r.jsx)(C.Z,{children:"T\xe9l\xe9phone du client"}),(0,r.jsx)(C.Z,{children:"NNI client"}),(0,r.jsx)(C.Z,{children:"Type"}),(0,r.jsx)(C.Z,{children:"Status"})]})}),(0,r.jsx)(T.Z,{children:u.map((function(e){return(0,r.jsxs)(w.Z,{hover:!0,onClick:function(){return t=e.id,void p().push("/reclamation-details/".concat(t));var t},children:[(0,r.jsx)(C.Z,{children:(0,r.jsx)(a.Z,{sx:{alignItems:"center",display:"flex"},children:(0,r.jsx)(m.Z,{color:"textPrimary",variant:"body1",children:(0,r.jsx)(d(),{highlightClassName:"YourHighlightClass",searchWords:[E],autoEscape:!0,textToHighlight:e.customer_name})})})}),(0,r.jsx)(C.Z,{children:(0,r.jsx)(d(),{highlightClassName:"YourHighlightClass",searchWords:[E],autoEscape:!0,textToHighlight:e.created_at})}),(0,r.jsx)(C.Z,{children:(0,r.jsx)(d(),{highlightClassName:"YourHighlightClass",searchWords:[E],autoEscape:!0,textToHighlight:e.customer_phone_number.toString()})}),(0,r.jsx)(C.Z,{children:(0,r.jsx)(d(),{highlightClassName:"YourHighlightClass",searchWords:[E],autoEscape:!0,textToHighlight:e.customer_nni_number.toString()})}),(0,r.jsx)(C.Z,{children:e.type}),(0,r.jsx)(C.Z,{children:(0,r.jsx)(W.I,{color:("Trait\xe9e"===e.status?"success":"Pas encore trait\xe9e"===e.status&&"error")||"warning",children:e.status})})]},e.id)}))})]})})})}),(0,r.jsx)(S.Z,{color:"primary",style:{marginTop:"20px",display:"flex",justifyContent:"center"},page:s,count:Math.ceil(t/5),onChange:function(e,t){e.preventDefault(),c(t)}})]})},E=n(1437),H=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s(),{children:(0,r.jsx)("title",{children:"R\xe9clamations | Gestion de r\xe9clamation"})}),(0,r.jsx)(a.Z,{component:"main",sx:{flexGrow:1,py:5},children:(0,r.jsx)(c.Z,{maxWidth:!1,children:(0,r.jsx)(a.Z,{sx:{mt:3},children:(0,r.jsx)(k,{})})})})]})};H.getLayout=function(e){return(0,r.jsx)(E.c,{children:e})};var I=H}},function(e){e.O(0,[615,583,936,664,836,971,49,114,118,437,774,888,179],(function(){return t=9255,e(e.s=t);var t}));var t=e.O();_N_E=t}]);