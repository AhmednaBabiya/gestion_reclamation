(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[837],{6250:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var n=a(3366),i=a(7462),r=a(7294),s=a(6010),l=a(4780),d=a(9630),o=a(8884),c=a(1719),u=a(4867);function m(e){return(0,u.Z)("MuiCardHeader",e)}var h=(0,a(1588).Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),x=a(5893);const p=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],j=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,i.Z)({[`& .${h.title}`]:t.title,[`& .${h.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),Z=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),f=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),v=(0,c.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"});var y=r.forwardRef((function(e,t){const a=(0,o.Z)({props:e,name:"MuiCardHeader"}),{action:r,avatar:c,className:u,component:h="div",disableTypography:y=!1,subheader:b,subheaderTypographyProps:g,title:_,titleTypographyProps:P}=a,T=(0,n.Z)(a,p),C=(0,i.Z)({},a,{component:h,disableTypography:y}),S=(e=>{const{classes:t}=e;return(0,l.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},m,t)})(C);let N=_;null==N||N.type===d.Z||y||(N=(0,x.jsx)(d.Z,(0,i.Z)({variant:c?"body2":"h5",className:S.title,component:"span",display:"block"},P,{children:N})));let w=b;return null==w||w.type===d.Z||y||(w=(0,x.jsx)(d.Z,(0,i.Z)({variant:c?"body2":"body1",className:S.subheader,color:"text.secondary",component:"span",display:"block"},g,{children:w}))),(0,x.jsxs)(j,(0,i.Z)({className:(0,s.Z)(S.root,u),as:h,ref:t,ownerState:C},T,{children:[c&&(0,x.jsx)(Z,{className:S.avatar,ownerState:C,children:c}),(0,x.jsxs)(v,{className:S.content,ownerState:C,children:[N,w]}),r&&(0,x.jsx)(f,{className:S.action,ownerState:C,children:r})]}))}))},321:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reclamation-details/[rid]",function(){return a(7582)}])},7582:function(e,t,a){"use strict";a.r(t);var n=a(5893),i=a(7294),r=a(196),s=a(1953),l=a(6336),d=a(9072),o=a(9837),c=a(6250),u=a(4373),m=a(1359),h=a(7836),x=a(5343),p=a(8316),j=a(7961),Z=a(60),f=a(5084),v=a(1163),y=a.n(v),b=a(9008),g=a.n(b),_=a(1437);function P(){var e=(0,v.useRouter)().query.rid,t="http://127.0.0.1:8000/backend/reclamation/".concat(e),a=localStorage.getItem("token"),b=(0,i.useState)(""),_=b[0],P=b[1],T=(0,i.useState)(""),C=T[0],S=T[1],N=(0,i.useState)(""),w=N[0],W=N[1],k=(0,i.useState)(""),E=k[0],H=k[1],R=(0,i.useState)(""),M=R[0],I=R[1],A=(0,i.useState)(""),z=A[0],D=A[1],G=(0,i.useState)(""),L=G[0],O=G[1],X=(0,i.useState)(""),$=X[0],q=X[1],B=(0,i.useState)(""),F=B[0],J=B[1],K=(0,i.useState)(""),Q=K[0],U=K[1];return(0,i.useEffect)((function(){r.ZP.get(t,{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(a)}}).then((function(e){P(e.data.customer_name),S(e.data.customer_phone_number),W(e.data.customer_nni_number),H(e.data.identity_card),I(e.data.photo),D(e.data.description),O(e.data.created_at.split("T")[0]+" "+e.data.created_at.split("T")[1].split(".")[0].slice(0,-3)),q(e.data.last_update.split("T")[0]+" "+e.data.last_update.split("T")[1].split(".")[0].slice(0,-3)),J(e.data.type),U(e.data.status)})).catch((function(e){console.log("error message",e)}))}),[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g(),{children:(0,n.jsx)("title",{children:"Details r\xe9clamation | Gestion de r\xe9clamations"})}),(0,n.jsx)(s.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,n.jsx)(l.Z,{maxWidth:"lg",children:(0,n.jsx)(d.ZP,{container:!0,spacing:3,children:(0,n.jsx)(d.ZP,{item:!0,lg:11,md:7,xs:14,children:(0,n.jsx)("form",{children:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(c.Z,{subheader:"Les informations peuvent \xeatre modifi\xe9es par un profil de type admin",title:"D\xe9tails de la r\xe9clamation"}),(0,n.jsx)(u.Z,{}),(0,n.jsx)(m.Z,{children:(0,n.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,n.jsx)(d.ZP,{item:!0,md:6,xs:12,children:(0,n.jsx)(h.Z,{fullWidth:!0,disabled:!0,label:"nom du client",name:"customer_name",value:_,variant:"outlined"})}),(0,n.jsx)(d.ZP,{item:!0,md:6,xs:12,children:(0,n.jsx)(h.Z,{fullWidth:!0,disabled:!0,label:"Num\xe9ro de t\xe9l\xe9phone du client",name:"customer_phone_number",value:C,variant:"outlined"})}),(0,n.jsx)(d.ZP,{item:!0,md:6,xs:12,children:(0,n.jsx)(h.Z,{fullWidth:!0,disabled:!0,label:"NNI du client",name:"customer_nni_number",value:w,variant:"outlined"})}),(0,n.jsx)(d.ZP,{item:!0,md:6,xs:12,children:(0,n.jsx)(h.Z,{fullWidth:!0,disabled:!0,label:"date de cr\xe9ation",name:"created_at",value:L,variant:"outlined"})}),(0,n.jsx)(d.ZP,{item:!0,md:6,xs:12,children:(0,n.jsx)(h.Z,{fullWidth:!0,disabled:!0,label:"date du derni\xe8re mis \xe0 jour",name:"customer_nni_number",value:$,variant:"outlined"})}),(0,n.jsx)(d.ZP,{item:!0,md:6,xs:12,children:(0,n.jsx)(h.Z,{fullWidth:!0,disabled:!0,label:"type",name:"type",value:F,variant:"outlined"})}),(0,n.jsx)(d.ZP,{item:!0,md:6,xs:12,children:(0,n.jsxs)(x.Z,{fullWidth:!0,children:[(0,n.jsx)(p.Z,{children:"Status"}),(0,n.jsxs)(j.Z,{fullWidth:!0,label:"Status",onChange:function(e){return U(e.target.value)},value:Q,children:[(0,n.jsx)(Z.Z,{value:"En cours de traitement",children:"En cours de traitement"}),(0,n.jsx)(Z.Z,{value:"Trait\xe9e",children:"Trait\xe9e"}),(0,n.jsx)(Z.Z,{value:"Pas encore trait\xe9e",children:"Pas encore trait\xe9e"})]})]})}),(0,n.jsx)(d.ZP,{item:!0,md:6,xs:12,children:(0,n.jsx)(h.Z,{fullWidth:!0,disabled:!0,label:"description",name:"description",multiline:!0,value:z,variant:"outlined"})}),(0,n.jsxs)(d.ZP,{item:!0,md:6,xs:12,children:[(0,n.jsx)("a",{children:"Photo du client"}),(0,n.jsx)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex"},children:(0,n.jsx)("img",{src:M,style:{maxHeight:160,maxWidth:300,width:300}})})]}),(0,n.jsxs)(d.ZP,{item:!0,md:6,xs:12,children:[(0,n.jsx)("a",{children:"Carte d'identit\xe9"}),(0,n.jsx)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex"},children:(0,n.jsx)("img",{src:E,style:{maxHeight:160,maxWidth:300,width:300}})})]})]})}),(0,n.jsx)(u.Z,{}),(0,n.jsx)(s.Z,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:(0,n.jsx)(f.Z,{color:"primary",variant:"contained",onClick:function(){r.ZP.put(t+"/update-delete",{status:Q},{headers:{"Content-Type":"application/json",Authorization:"Token ".concat(a)}}).then((function(e){y().push("/reclamations")})).catch((function(e){console.log("error message",e)}))},children:"Enregistrer la modification"})})]})})})})})})]})}P.getLayout=function(e){return(0,n.jsx)(_.c,{children:e})},t.default=P}},function(e){e.O(0,[615,583,936,664,836,971,72,49,437,774,888,179],(function(){return t=321,e(e.s=t);var t}));var t=e.O();_N_E=t}]);